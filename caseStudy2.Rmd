---
title: "CaseStudy 2"
author: "Gloria"
date: "2017/10/20"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(xlsx)
setwd("C:/Users/Lenovo/Desktop/STAT 440/caseStudy 2")
dat <- read.csv("Seattle_Police_Department_911_Incident_Response.csv", header = TRUE, sep = ",")
fraction <- 0.05
set.seed(1234)
sample_rows <- sample(1:nrow(dat), floor(nrow(dat)*fraction))

dat5 <- dat[sample_rows,]
write.csv(dat5, "Seattle_0.05.csv")

```

GOAL:Can you build a method to suggest what times of day, week, or year that a greater police presence would be useful
```{r}
ds <- read.csv("Seattle_0.05.csv", header = TRUE, sep=",")
head(ds)
names(ds)
```

```{r}
library(dplyr)
dsm <- ds[c(1,2,4,5,7,8,13,14)]
head(dsm)
for(i in 1:8){
  if(sum(is.na(dsm[,i]))==0){
    print("CHECK")
  }
  else{
    print("NA")
  }
}

library(stringr)
dsm[,6] <- as.character(dsm[,6])
date_time <- strsplit(dsm[,6], " ")
n <- length(date_time)
for (i in 1:n){
  MM.DD.YY[i] <- date_time[[i]][1]
  spc_time[i] <- date_time[[i]][2]
  AM.PM[i] <- date_time[[i]][3]
}
MM.DD.YY <- as.data.frame(MM.DD.YY, stringsAsFactors = FALSE)
spc_time <- as.data.frame(spc_time, stringsAsFactors = F)
AM.PM <- as.data.frame(AM.PM, stringsAsFactors = F)


```

